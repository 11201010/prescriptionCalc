<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>慢性病連續處方箋給藥日期計算</title>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css"
		/>
		<link rel="stylesheet" href="style.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
	</head>
	<body>
		<div class="container">
			<h1 class="p-3">慢性病連續處方箋給藥日期計算</h1>
			<div onchange="prescription()">
				<div id="form">
					<div id="start" class="row alert alert-primary">
						<label class="col" for="startDate">處方箋看診日期(就醫日期)</label>
						<input class="col" type="date" id="startDate" />
					</div>
					<div id="dispenseInterval" class="row alert alert-primary">
						<label class="col" for="interval">給藥天數</label>
						<select class="col" name="interval" id="interval">
							<option value="21">21</option>
							<option value="28" selected>28</option>
							<option value="29">29</option>
							<option value="30">30</option>
						</select>
					</div>
					<div id="dispenseNumber" class="row alert alert-primary">
						<label class="col" for="dispenseNum">可調劑次數</label>
						<select class="col" name="dispenseNum" id="dispenseNum">
							<option value="2">2</option>
							<option value="3" selected>3</option>
						</select>
					</div>
					<div id="current" class="row alert alert-primary">
						<label class="col" for="currentDate">本次領藥日期</label>
						<input class="col" type="date" id="currentDate" />
					</div>
					<div id="revisit" class="row alert alert-primary">
						<label class="col" for="revisitDate">預約回診日期</label>
						<input class="col" type="date" id="revisitDate" />
					</div>
				</div>
				<div id="info">
					<div id="first" class="row alert alert-secondary">
						<div class="col">第一次領藥日期</div>
						<span class="col" id="firstRange"></span>
					</div>
					<div id="second" class="row alert alert-secondary">
						<div class="col">第二次領藥日期</div>
						<span class="col" id="secondRange"></span>
					</div>
					<div id="third" class="row alert alert-secondary">
						<div class="col">第三次領藥日期</div>
						<span class="col" id="thirdRange"></span>
					</div>
					<div id="expire" class="row alert alert-danger">
						<div class="col">處方箋到期日(不可領藥)</div>
						<span class="col" id="expireDate"></span>
					</div>
					<div id="modifiedRangeContainer" class="row alert alert-warning">
						<div class="col">重算下次可領藥日</div>
						<span class="col" id="modifiedRange"></span>
					</div>
					<div id="modifiedRevisitContainer" class="row alert alert-warning">
						<div class="col">需重新約診</div>
						<span class="col" id="modifiedRevisit"></span>
					</div>
				</div>
			</div>
			<div class="row alert alert-info" id="law">
				<p>
					<a
						href="https://law.moj.gov.tw/LawClass/LawSingle.aspx?pcode=L0060009&flno=24"
						>全民健康保險醫療辦法第 24 條</a
					>：
				</p>
				<ol>
					<li>同一慢性病連續處方箋，應分次調劑。</li>
					<li>
						保險對象持慢性病連續處方箋調劑者，須俟上次給藥期間屆滿前十日內，始得憑原處方箋再次調劑。
					</li>
				</ol>
			</div>
		</div>
		<script src="script.js"></script>
	</body>
</html>
